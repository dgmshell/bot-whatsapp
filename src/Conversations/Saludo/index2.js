// import { Flow } from "../../Flow/Flow.js";
// import {OneLineMessage} from "../../Flow/utils/OneLineMessage.js";
// import {Answer} from "../../Flow/Answer.js";
//
//
// // export const Final = new Flow()
// //     .addAnswer("Gracias por tus datos! :D")
// //     .addAnswer("Paragon te enviara un nuevo mensaje una vez analicemos tus datos.")
// //     .setName("Despedida");
// //
// // const cafes = ["Customer service", "Compliance", "NSF"];
// // export class MenuController extends Answer {
// //     waitForAnswer = true;
// //     async handler(ctx) {
// //         const option = Number(ctx.body[0]);
// //         if (isNaN(option) || !cafes[option - 1]) {
// //             await ctx.reply('Usted ha no ha seleccionado una opciÃ³n valida!');
// //             ctx.moveToStep(ctx.phoneNumber, 0);
// //             return;
// //         }
// //         ctx.useMemo(ctx.phoneNumber, 'vacant', cafes[option - 1]);
// //         await ctx.reply(ctx.MemoText(ctx.phoneNumber, `Usted ha seleccionado la vacante {vacant} espere un momento estamos conectando con nuestra api`));
// //     }
// // }
// // export const MenuFlow = new Flow()
// //     .addKeyboard(["menu", "menÃº"])
// //     .addAnswer(`Buenas tardes seÃ±or {name}, en que vacante esta interesado?`)
// //     .addAnswer(OneLineMessage(["Tenemos las siguientes vacantes", "1. Customer service", "2. Compliance", "3. Llamadas NSF"]))
// //     .addAnswer(MenuController)
// //     .setName("MenÃº")
// //     .setNextFlow(Final);
// //
// //
// //
// // export class Saludo extends Answer {
// //     waitForAnswer = true;
// //     constructor() {
// //         super();
// //     }
// //     async handler(ctx) {
// //         ctx.useMemo(ctx.phoneNumber, 'name', ctx.body);
// //         await ctx.delayWithPresence('composing', 1);
// //         await ctx.reply(ctx.MemoText(ctx.phoneNumber, 'Hola {name}!'));
// //         return;
// //     }
// // }
// //
// //
// // export const FlowSaludo = new Flow()
// //     .addKeyboard(['hello', 'sup', 'whats doing'])
// //     .addKeyboard({
// //     key: ["hola", 'que onda', 'weee'],
// //     mode: 'equals',
// //     sensitive: false
// // })
// //     .addAnswer('[RRHH] - Hola, cual es tu nombre?')
// //     .addAnswer(Saludo)
// //     .addAnswer("SerÃ¡ redirigido al menÃº...")
// //     .setNextFlow(MenuFlow)
// //     .setName("Saludo");
// export const Final = new Flow()
//     .addAnswer("Â¡Gracias por tu interÃ©s en nuestras clases en The Best Academy! ðŸ˜Š")
//     .addAnswer("Te enviaremos un mensaje con mÃ¡s detalles despuÃ©s de analizar tu solicitud.")
//     .setName("Despedida");
//
// const paymentMethods = ["Tarjeta de crÃ©dito/dÃ©bito", "PayPal", "Transferencia bancaria"];
// export class PaymentController extends Answer {
//     waitForAnswer = true;
//     async handler(ctx) {
//         const option = Number(ctx.body[0]);
//         if (isNaN(option) || !paymentMethods[option - 1]) {
//             await ctx.reply('No has seleccionado una opciÃ³n vÃ¡lida. Por favor, intenta nuevamente seleccionando un nÃºmero.');
//             ctx.moveToStep(ctx.phoneNumber, 0);
//             return;
//         }
//         ctx.useMemo(ctx.phoneNumber, 'paymentMethod', paymentMethods[option - 1]);
//         await ctx.reply(ctx.MemoText(ctx.phoneNumber, `Has seleccionado el mÃ©todo de pago: {paymentMethod}.`));
//     }
// }
//
// export const PaymentFlow = new Flow()
//     .addAnswer("Ahora necesitamos que selecciones un mÃ©todo de pago.")
//     .addAnswer(OneLineMessage(["MÃ©todos disponibles:", "1. Tarjeta de crÃ©dito/dÃ©bito", "2. PayPal", "3. Transferencia bancaria"]))
//     .addAnswer(PaymentController)
//     .setName("MÃ©todo de Pago")
//     .setNextFlow(Final);
//
// const courses = ["BÃ¡sico", "Intermedio", "Avanzado"];
// export class MenuController extends Answer {
//     waitForAnswer = true;
//     async handler(ctx) {
//         const option = Number(ctx.body[0]);
//         if (isNaN(option) || !courses[option - 1]) {
//             await ctx.reply('No has seleccionado una opciÃ³n vÃ¡lida. Por favor, intenta de nuevo.');
//             ctx.moveToStep(ctx.phoneNumber, 0);
//             return;
//         }
//         ctx.useMemo(ctx.phoneNumber, 'course', courses[option - 1]);
//         await ctx.reply(ctx.MemoText(ctx.phoneNumber, `Â¡Has seleccionado el nivel {course}! En breve, recibirÃ¡s mÃ¡s informaciÃ³n sobre nuestras clases.`));
//     }
// }
//
// export const MenuFlow = new Flow()
//     .addKeyboard(["menu", "clases", "niveles"])
//     .addAnswer(`Hola {name}, Â¿en quÃ© nivel de clases estÃ¡s interesado?`)
//     .addAnswer(OneLineMessage(["Nuestras opciones son:", "1. BÃ¡sico", "2. Intermedio", "3. Avanzado"]))
//     .addAnswer(MenuController)
//     .setName("MenÃº")
//     .setNextFlow(PaymentFlow);
//
// export class Saludo extends Answer {
//     waitForAnswer = true;
//     constructor() {
//         super();
//     }
//     async handler(ctx) {
//         ctx.useMemo(ctx.phoneNumber, 'name', ctx.body);
//         await ctx.delayWithPresence('composing', 1);
//         await ctx.reply(ctx.MemoText(ctx.phoneNumber, 'Â¡Hola {name}, bienvenido a The Best Academy! ðŸ‘‹'));
//         return;
//     }
// }
//
// export const FlowSaludo = new Flow()
//     .addKeyboard(['hello', 'hi', 'howdy'])
//     .addKeyboard({
//         key: ["hola", "buenos dÃ­as", "quÃ© tal"],
//         mode: 'equals',
//         sensitive: false
//     })
//     .addAnswer('[The Best Academy] - Hola, Â¿cuÃ¡l es tu nombre?')
//     .addAnswer(Saludo)
//     .addAnswer("SerÃ¡s redirigido al menÃº principal...")
//     .setNextFlow(MenuFlow)
//     .setName("Saludo");
//
// // const saludoFlowJson={
// //     "name": "Saludo",
// //     "keyboards": [
// //     ["hello", "hi", "howdy"],
// //     {
// //         "key": ["hola", "buenos dÃ­as", "quÃ© tal"],
// //         "mode": "equals",
// //         "sensitive": false
// //     }
// // ],
// //     "answers": [
// //     "[The Best Academy] - Hola, Â¿cuÃ¡l es tu nombre?",
// //     {
// //         "type": "custom",
// //         "handler": "Saludo"
// //     },
// //     "SerÃ¡s redirigido al menÃº principal..."
// // ],
// //     "nextFlow": "MenuFlow"
// // }
// //
// // export const FlowSaludo = new Flow()
// //     .setName(saludoFlowJson.name)
// //     .addKeyboard(...saludoFlowJson.keyboards)
// //     .addAnswer(saludoFlowJson.answers[0])
// //     .addAnswer(Saludo) // Manejo manual del controlador personalizado.
// //     .addAnswer(saludoFlowJson.answers[2])
// //     .setNextFlow(MenuFlow)
//
// //
// // const vacancies = ["Customer Services", "Compliance", "NegociaciÃ³n", "Data Entry"];
// // const schedules = [
// //     "9:00 a.m. - 10:00 a.m.",
// //     "10:00 a.m. - 11:00 a.m.",
// //     "11:00 a.m. - 12:00 p.m.",
// //     "1:00 p.m. - 2:00 p.m.",
// //     "2:00 p.m. - 3:00 p.m.",
// //     "3:00 p.m. - 4:00 p.m."
// // ];
// //
// // export class ScheduleController extends Answer {
// //     waitForAnswer = true;
// //     async handler(ctx) {
// //         const option = Number(ctx.body[0]);
// //         if (isNaN(option) || !schedules[option - 1]) {
// //             await ctx.reply('No has seleccionado un horario vÃ¡lido. Por favor, intenta nuevamente seleccionando un nÃºmero.');
// //             ctx.moveToStep(ctx.phoneNumber, 0);
// //             return;
// //         }
// //         ctx.useMemo(ctx.phoneNumber, 'schedule', schedules[option - 1]);
// //         await ctx.reply(ctx.MemoText(ctx.phoneNumber, `Has seleccionado el horario: {schedule}.`));
// //     }
// // }
// //
// // export const ScheduleFlow = new Flow()
// //     .addAnswer("Por favor, selecciona un horario que mÃ¡s te convenga:")
// //     .addAnswer(OneLineMessage(schedules.map((schedule, index) => `${index + 1}. ${schedule}`)))
// //     .addAnswer(ScheduleController)
// //     .setName("Seleccionar Horario")
// //     .addAnswer("Te esperamos en Bulevar MorazÃ¡n, Torre MorazÃ¡n, Torre II, oficina 20817.")
// //     .addAnswer("Â¡Estamos encantados de contar contigo! ðŸ˜Š");
// //
// // export class VacancyController extends Answer {
// //     waitForAnswer = true;
// //     async handler(ctx) {
// //         const option = Number(ctx.body[0]);
// //         if (isNaN(option) || !vacancies[option - 1]) {
// //             await ctx.reply('No has seleccionado una vacante vÃ¡lida. Por favor, intenta nuevamente seleccionando un nÃºmero.');
// //             ctx.moveToStep(ctx.phoneNumber, 0);
// //             return;
// //         }
// //         ctx.useMemo(ctx.phoneNumber, 'vacancy', vacancies[option - 1]);
// //         await ctx.reply(ctx.MemoText(ctx.phoneNumber, `Â¡Has seleccionado la vacante: {vacancy}!`));
// //     }
// // }
// //
// // export const VacancyFlow = new Flow()
// //     .addAnswer("Estas son las vacantes disponibles:")
// //     .addAnswer(OneLineMessage(vacancies.map((vacancy, index) => `${index + 1}. ${vacancy}`)))
// //     .addAnswer(VacancyController)
// //     .setName("Seleccionar Vacante")
// //     .setNextFlow(ScheduleFlow);
// //
// // export class EnglishController extends Answer {
// //     waitForAnswer = true;
// //     async handler(ctx) {
// //         const option = Number(ctx.body[0]);
// //         if (option !== 1 && option !== 2) {
// //             await ctx.reply('Por favor, selecciona una opciÃ³n vÃ¡lida (1 o 2).');
// //             ctx.moveToStep(ctx.phoneNumber, 0);
// //             return;
// //         }
// //         if (option === 2) {
// //             await ctx.reply("Gracias por tu interÃ©s. Actualmente, es necesario hablar inglÃ©s para postularse. Â¡Te deseamos lo mejor!");
// //             return;
// //         }
// //         await ctx.reply("Â¡Genial! Continuemos con las vacantes disponibles.");
// //         ctx.moveToStep(ctx.phoneNumber, 1); // Cambia al siguiente paso manualmente
// //     }
// // }
// //
// // export const EnglishFlow = new Flow()
// //     .addAnswer("Â¿Hablas inglÃ©s? Por favor, responde:")
// //     .addAnswer(OneLineMessage(["1. SÃ­", "2. No"]))
// //     .addAnswer(EnglishController)
// //     .setName("Confirmar InglÃ©s")
// //     .setNextFlow(VacancyFlow);
// //
// // export class NameController extends Answer {
// //     waitForAnswer = true;
// //     async handler(ctx) {
// //         ctx.useMemo(ctx.phoneNumber, 'name', ctx.body);
// //         await ctx.reply(`Gracias, ${ctx.body}. Â¿CuÃ¡l es tu profesiÃ³n actual?`);
// //     }
// // }
// //
// // export class ProfessionController extends Answer {
// //     waitForAnswer = true;
// //     async handler(ctx) {
// //         ctx.useMemo(ctx.phoneNumber, 'profession', ctx.body);
// //         await ctx.reply("Perfecto. Ahora, por favor, indÃ­canos tu correo electrÃ³nico.");
// //     }
// // }
// //
// // export class EmailController extends Answer {
// //     waitForAnswer = true;
// //     async handler(ctx) {
// //         ctx.useMemo(ctx.phoneNumber, 'email', ctx.body);
// //         await ctx.reply("Por Ãºltimo, Â¿podrÃ­as proporcionarnos tu nÃºmero de telÃ©fono?");
// //     }
// // }
// //
// // export class PhoneController extends Answer {
// //     waitForAnswer = true;
// //     async handler(ctx) {
// //         ctx.useMemo(ctx.phoneNumber, 'phone', ctx.body);
// //         await ctx.reply("Gracias por proporcionar todos tus datos. Continuemos...");
// //     }
// // }
// //
// //
// //
// // export const FlowSaludo = new Flow()
// //     .addKeyboard(['hello', 'hi', 'howdy'])
// //     .addKeyboard({
// //         key: ["hola", "buenos dÃ­as", "quÃ© tal"],
// //         mode: 'equals',
// //         sensitive: false
// //     })
// //     .addAnswer('Â¡Hola! ðŸ˜Š Bienvenido a nuestro sistema de reclutamiento. Por favor, proporciona la siguiente informaciÃ³n separada por punto y coma: Nombre; ProfesiÃ³n; Correo; TelÃ©fono.')
// //     .addAnswer(NameController)
// //     .addAnswer("SerÃ¡s redirigido con un agente...")
// //     .setNextFlow(EnglishFlow)
// //     .setName("Saludo");
//
// export class MenuController extends Answer {
//     waitForAnswer = true;
//     async handler(ctx) {
//         const option = Number(ctx.body[0]);
//         if (isNaN(option) || !cafes[option - 1]) {
//             await ctx.reply('Usted ha no ha seleccionado una opciÃ³n valida!');
//             ctx.moveToStep(ctx.phoneNumber, 0);
//             return;
//         }
//         ctx.useMemo(ctx.phoneNumber, 'cafe', cafes[option - 1]);
//         await ctx.reply(ctx.MemoText(ctx.phoneNumber, `Usted ha seleccionado CafÃ© {cafe}`));
//     }
// }